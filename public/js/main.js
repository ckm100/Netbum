function likeRequest(e,i,r,a){$.ajax({method:"POST",url:"/likeimg",data:{isLike:e,isDisLike:i,imgId:r,imgCreator:a},success:function(e){console.log(e)},error:function(e){$(".overlay").show(),$(".warning-dialog > h1").css("color","red"),$(".warning-dialog > h1").html("Error liking image, please try again"),$(".warning-dialog").show()}})}function disikeRequest(e,i,r,a){$.ajax({method:"POST",url:"/dislikeimg",data:{isLike:e,isDisLike:i,imgId:r,imgCreator:a},success:function(e){console.log(e)},error:function(e){$(".overlay").show(),$(".warning-dialog > h1").css("color","red"),$(".warning-dialog > h1").html("Error disliking image, please try again"),$(".warning-dialog").show()}})}var loginDialog=$(".login-dialog"),SignupDialog=$(".signup-dialog"),imgId;$(".warning-close-btn").click(function(){$(".overlay").hide(),$(".warning-dialog").hide()}),$(document).on("click",".like-btn",function(){var e=$(this).next().html(),i=$(this).attr("data-imgId"),r=$(this).next().next().next().html(),a=$(".isLogin").val(),o=$(this).attr("data-imgCreator");"true"===a?"0"===$(this).attr("data-hasLike")?"1"===$(this).next().next().attr("data-hasDislike")?($(this).next().next().attr("data-hasDislike","0"),$(this).next().next().attr("title","I dislike this"),$(this).next().next().html("<i class='fa fa-thumbs-o-down'></i"),$(this).next().next().next().html(+r-1),$(this).attr("data-hasLike","1"),$(this).attr("title","You have like this"),$(this).html("<i class='fa fa-thumbs-up'></i"),$(this).next().html(+e+1),likeRequest(!0,!0,i,o)):($(this).attr("title","You have like this"),$(this).attr("data-hasLike","1"),$(this).html("<i class='fa fa-thumbs-up'></i"),$(this).next().html(+e+1),likeRequest(!0,!1,i,o)):"1"===$(this).attr("data-hasLike")&&($(this).attr("title","I like this"),$(this).attr("data-hasLike","0"),$(this).html("<i class='fa fa-thumbs-o-up'></i"),$(this).next().html(+e-1),likeRequest(!1,!1,i,o)):($(".overlay").show(),$(".warning-dialog > h1").css("color","#fff"),$(".warning-dialog > h1").html("Please log in to like or dislike a picture"),$(".warning-dialog").show())}),$(document).on("click",".dislike-btn",function(){var e=$(this).next().html(),i=$(this).attr("data-imgId"),r=$(this).prev().html(),a=$(".isLogin").val(),o=$(this).attr("data-imgCreator");"true"===a?"0"===$(this).attr("data-hasDisLike")?"1"===$(this).prev().prev().attr("data-haslike")?($(this).prev().prev().attr("data-haslike","0"),$(this).prev().prev().attr("title","I like this"),$(this).prev().prev().html("<i class='fa fa-thumbs-o-up'></i"),$(this).prev().html(+r-1),$(this).attr("data-hasDisLike","1"),$(this).html("<i class='fa fa-thumbs-down'></i"),$(this).attr("title","You have dislike this"),$(this).next().html(+e+1),disikeRequest(!0,!0,i,o)):($(this).attr("data-hasDisLike","1"),$(this).html("<i class='fa fa-thumbs-down'></i"),$(this).attr("title","You have dislike this"),$(this).next().html(+e+1),disikeRequest(!0,!1,i,o)):"1"===$(this).attr("data-hasDisLike")&&($(this).attr("title","I dislike this"),$(this).attr("data-hasDisLike","0"),$(this).html("<i class='fa fa-thumbs-o-down'></i"),$(this).next().html(+e-1),disikeRequest(!1,!1,i,o)):($(".overlay").show(),$(".warning-dialog > h1").css("color","#fff"),$(".warning-dialog > h1").html("Please log in to like or dislike a picture"),$(".warning-dialog").show())}),$(document).on("click",".delete-img-btn",function(){imgId=$(this).attr("data-imgId"),$(".overlay").show(),$(".delete-warning").show()}),$(document).click(function(e){$(e.target).hasClass("fa fa-bars fa-2x")||$(e.target).hasClass("settings")||$(".settings-popup").is(":visible")&&$(".settings-popup").slideUp()}),$(".delete-confirm").click(function(){$(".delete-warning").hide(),$(".loader-container").show(),$(".loader-message").show(),$(".loader-message").html("Please wait, deleting image..."),$.ajax({method:"POST",url:"/deleteimg",data:{imgId:imgId},success:function(e){$(".loader").hide(),$(".loader-message").css("color","green"),$(".loader-message").html("Image Deleted Successfully!"),$(".close-btn").show(),$(".embed-result").html(e)},error:function(e){$(".loader").hide(),$(".loader-message").css("color","red"),$(".loader-message").html("Something went wrong, please try again!"),$(".close-btn").show()}})}),$(".delete-decline").click(function(){$(".delete-warning").hide(),$(".overlay").hide()}),$(".no-account").click(function(){$(".login-email-password-error, .login-email-error, .login-password-error,.email-invalid-error,.password-invalid-error,.general-error").hide(),$(".login-view").hide(1e3),$(".signup-view").show(1e3)}),$(".have-account").click(function(){$(".signup-name-email-password-error, .signup-name-error,.signup-email-error,.signup-password-error,.email-exist-error,.general-error").hide(),$(".signup-view").hide(1e3),$(".login-view").show(1e3)}),$(".settings").click(function(){$(".settings-popup").slideToggle()}),$(document).on("click",".hover-bg",function(){$(".overlay").show(),$(".img-add-dialog").show()}),$(".close-icon").click(function(){$(".img-add-dialog").is(":visible")?($(".img-add-dialog").hide(),$(".overlay").hide()):loginDialog.is(":visible")?($(".overlay").hide(),$(".login-email-password-error, .login-email-error, .login-password-error,.email-invalid-error,.password-invalid-error,.general-error").hide(),loginDialog.slideUp()):SignupDialog.is(":visible")&&($(".overlay").hide(),$(".signup-name-email-password-error, .signup-name-error,.signup-email-error,.signup-password-error,.email-exist-error,.general-error").hide(),SignupDialog.slideUp())}),$(".add-img-btn").click(function(){var e=$(".img-name").val(),i=$(".img-url").val();""===i?($(".img-url-error").show(),$(".img-name-error").hide()):""===e?($(".img-name-error").show(),$(".img-url-error").hide()):($(".img-name-error").hide(),$(".img-url-error").hide(),$(".img-add-dialog").hide(),$(".loader-container").show(),$(".loader-message").show(),$(".loader-message").html("Please wait, adding image..."),$.ajax({method:"POST",url:"/addimg",data:{imgName:e,imgUrl:i},success:function(e){$(".loader").hide(),$(".loader-message").css("color","green"),$(".loader-message").html("Image Added Successfully!"),$(".img-url").val(""),$(".img-name").val(""),$(".close-btn").show(),$(".embed-result").html(e)},error:function(e){$(".loader").hide(),$(".loader-message").css("color","red"),$(".loader-message").html("Something went wrong, please try again!"),$(".close-btn").show()}}))}),$(".login-btn").click(function(e){var i=$("#login-email").val(),r=$("#login-pword").val();""===i&&""===r?($(".login-email-password-error").show(),$(".login-email-error, .login-password-error").hide()):""===i?($(".login-email-error").show(),$(".login-email-password-error, .login-password-error").hide()):""===r?($(".login-password-error").show(),$(".login-email-password-error, .login-email-error").hide()):""!==i&&""!==r&&($(".login-email-password-error, .login-email-error, .login-password-error,.email-invalid-error,.password-invalid-error,.general-error").hide(),$(".login-btn").html("Logging In..."),$(".login-btn").prop("disabled",!0),$.ajax({method:"POST",url:"/login",data:{email:i,password:r},success:function(e){0===parseInt(e.error)?($(".login-btn").html("Log In"),$(".login-btn").prop("disabled",!1),$(".email-invalid-error").show(),$(".password-invalid-error").hide()):1===parseInt(e.error)?($(".login-btn").html("Log In"),$(".login-btn").prop("disabled",!1),$(".password-invalid-error").show(),$(".email-invalid-error").hide()):($(".password-invalid-error").hide(),$(".email-invalid-error").hide(),window.location.href="/myalbum")},error:function(e){e&&($(".login-btn").html("Log In"),$(".login-btn").prop("disabled",!1),$(".password-invalid-error").hide(),$(".email-invalid-error").hide(),$(".general-error").show())}}))}),$(".signup-btn").click(function(){var e=$("#signup-fname").val(),i=$("#signup-email").val(),r=$("#signup-pword").val();""===e&&""===r&&""===i?($(".signup-name-email-password-error").show(),$(".signup-name-error, .signup-email-error,.signup-password-error").hide()):""===e?($(".signup-name-error").show(),$(".signup-name-email-password-error, .signup-email-error,.signup-password-error").hide()):""===i?($(".signup-email-error").show(),$(".signup-name-email-password-error, .signup-name-error,.signup-password-error").hide()):""===r?($(".signup-password-error").show(),$(".signup-name-email-password-error, .signup-name-error,.signup-email-error").hide()):""!==e&&""!==r&&""!==i&&($(".signup-name-email-password-error, .signup-name-error,.signup-email-error,.signup-password-error,.email-exist-error,.general-error").hide(),$(".signup-btn").prop("disabled",!0),$.ajax({method:"POST",url:"/signup",data:{uname:e[0].toUpperCase()+e.substring(1,e.length),email:i,password:r},success:function(e){0===parseInt(e.error)?($(".signup-btn").html("Sign Up"),$(".signup-btn").prop("disabled",!1),$(".email-exist-error").show()):($(".email-exist-error").hide(),window.location.href="/myalbum")},error:function(e){e&&($(".signup-btn").html("Sign Up"),$(".signup-btn").prop("disabled",!1),$(".email-exist-error").hide(),$(".general-error").show())}}))}),$(".close-btn").click(function(){$(".loader").show(),$(".loader-container").hide(),$(".loader-message").css("color","#000"),$(".loader-message").hide(),$(".overlay").hide(),$(".loader-message").html(""),$(".close-btn").hide()}),$("#sign-in").click(function(){$(".overlay").show(),loginDialog.slideDown()}),$("#sign-up").click(function(){$(".overlay").show(),SignupDialog.slideDown()}),$(".no-account-btn").click(function(){loginDialog.slideUp(),SignupDialog.slideDown()}),$(".have-account-btn").click(function(){loginDialog.slideDown(),SignupDialog.slideUp()}),$(".update-btn").click(function(){var e=$(".update-profile-name").val(),i=$(".update-profile-email").val();""===e&&""===i?$(".update-name-email-error").show():($(".overlay").show(),$(".update-name-email-error").hide(),$(".loader-container").show(),$(".loader-message").show(),$(".loader-message").html("Please wait, updating profile..."),$.ajax({method:"POST",url:"/update",data:{updateName:e,updateEmail:i},success:function(e){$(".loader").hide(),$(".loader-message").css("color","green"),$(".loader-message").html("Profile Updated Successfully!"),$(".close-btn").show()},error:function(e){$(".loader").hide(),$(".loader-message").css("color","red"),$(".loader-message").html("Something went wrong, please try again!"),$(".close-btn").show()}}))}),$(".logout").click(function(e){$.ajax({method:"GET",url:"/logout",success:function(){window.location.href="/"}})}),$(".img img").error(function(){$(this).attr("src","http://placehold.it/300?text=Error+loading+image")});